"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[738],{49738:function(e,i,r){r.r(i);var a=r(74165),n=r(15861),t=r(70885),s=r(72791),o=(r(64238),r(48360)),l=r(55705),d=r(57689),c=r(51043),p=r(6184),u=r(25343),f=r(81724),h=r(80184);i.default=function(){var e=(0,d.s0)(),i=(0,s.useState)(!1),r=(0,t.Z)(i,2),m=r[0],x=r[1],v=(0,s.useState)([]),j=(0,t.Z)(v,2),g=j[0],N=j[1],A=(0,s.useState)(null),b=(0,t.Z)(A,2),y=b[0],M=b[1],B=(0,s.useState)(!1),I=(0,t.Z)(B,2),C=I[0],Z=I[1],R=(0,s.useState)(!1),S=(0,t.Z)(R,2),Q=S[0],k=S[1],w=function(e){Z(!0),k(!0),M(e.target.files[0])};return(0,s.useEffect)((function(){function e(){return(e=(0,n.Z)((0,a.Z)().mark((function e(){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,p.Z.getMealCategory();case 4:i=e.sent,N(i.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),m&&0===g.length?(0,h.jsx)(o.Z,{}):(0,h.jsx)(l.J9,{initialValues:{category_id:"",food_title:"",food_description:"",food_price:"",food_type:"",prepare_time:"",delivery_type:"",image:""},onSubmit:function(){var i=(0,n.Z)((0,a.Z)().mark((function i(r,n){var t,s;return(0,a.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(0,n.setSubmitting)(!0),(t=new FormData).append("food_title",r.food_title),t.append("food-type",r.food_type),t.append("food_price",r.food_price),t.append("image",y),t.append("food_description",r.food_description),t.append("prepare_time",r.prepare_time),t.append("delivery_type",r.delivery_type),t.append("category_id",r.category_id),i.prev=11,i.next=14,p.Z.createMeal(t);case 14:s=i.sent,x(!0),p.Z.getMealList(),s?(e("/dashboard/menu"),(0,u.I)("".concat(r.food_title," has been created!"),"success")):((0,u.I)("Error in creating ".concat(r.food_title),"error"),console.log("Meal has a bug!")),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(11),(0,u.I)("An error occurred while creating the meal","error");case 23:return i.prev=23,x(!1),i.finish(23);case 26:case"end":return i.stop()}}),i,null,[[11,20,23,26]])})));return function(e,r){return i.apply(this,arguments)}}(),validationSchema:f.Ry().shape({food_title:f.Z_().required("Meal name is required"),food_description:f.Z_().required("Your meal deserves a description"),food_price:f.Rx().required("Give your meal a price"),prepare_time:f.Rx().required("Set a time to prepare the meal")}),children:function(e){var i=e.values,r=e.touched,a=e.errors,n=e.handleChange,t=e.handleBlur,s=e.handleSubmit;return(0,h.jsx)("div",{className:"menu-section",children:(0,h.jsxs)("form",{onSubmit:s,children:[(0,h.jsxs)("div",{className:"menu-title",children:[(0,h.jsx)("div",{className:"menu-title-header",children:(0,h.jsx)("h2",{children:"Add Meal"})}),(0,h.jsx)("button",{type:"submit",className:"menu-btn",children:m?(0,h.jsx)(o.Z,{}):"Save Meal"})]}),(0,h.jsx)("div",{className:"menu-table",children:(0,h.jsxs)("div",{className:"menu-table-inner",children:[(0,h.jsxs)("div",{className:"menu-table-row",children:[(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"NAME"})}),(0,h.jsx)("input",{id:"food_title",name:"food_title",value:i.food_title,type:"text",onChange:n,onBlur:t,placeholder:"Name",className:a.food_title&&r.food_title&&"error"}),a.food_title&&r.food_title&&(0,h.jsx)("div",{className:"input-feedback",children:a.food_title})]}),(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"CATEGORIES"})}),(0,h.jsxs)("select",{id:"food_type",name:"food_type",value:i.food_type,onChange:n,onBlur:t,children:[(0,h.jsx)("option",{value:""}),(0,h.jsx)("option",{value:"main-dish",children:"Main Dish"}),(0,h.jsx)("option",{value:"side-dish",children:"Side Dish"})]})]}),(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"PRICE (NGN)"})}),(0,h.jsx)("input",{id:"food_price",name:"food_price",type:"digit",value:i.food_price,onChange:n,onBlur:t,placeholder:"Price",className:a.food_price&&r.food_price&&"error"}),a.food_price&&r.food_price&&(0,h.jsx)("div",{className:"input-feedback",children:a.food_price})]}),(0,h.jsxs)("div",{className:"menu-input-img",children:[(0,h.jsx)("h4",{children:"Import Meal Image"}),(0,h.jsx)("div",{className:"labels",children:(0,h.jsxs)("label",{htmlFor:"Image1",className:C?"uploaded":"",children:[(0,h.jsx)("input",{id:"Image1",name:"image",value:i.image,type:"file",accept:"image/*",style:{display:"none"},onChange:w}),Q&&(0,h.jsxs)("div",{className:"img-display",children:[C&&(0,h.jsx)("img",{src:URL.createObjectURL(y),alt:"food-img"}),!C&&(0,h.jsx)("img",{src:i.image,alt:"food-img"})]}),(0,h.jsx)("label",{htmlFor:"Image1",children:(0,h.jsx)("img",{src:c,alt:c,className:"menu-inputImg"})})]})})]})]}),(0,h.jsxs)("div",{className:"menu-table-row second",children:[(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"DESCRIPTION"})}),(0,h.jsx)("textarea",{id:"food_description",name:"food_description",value:i.food_description,onChange:n,onBlur:t,placeholder:"Meal Description",className:a.food_description&&r.food_description&&"error"}),a.food_description&&r.food_description&&(0,h.jsx)("div",{className:"input-feedback",children:a.food_description})]}),(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"PREPARATION TIME (minutes)"})}),(0,h.jsx)("input",{id:"prepare_time",name:"prepare_time",value:i.prepare_time,onChange:n,onBlur:t,type:"digit",placeholder:"Preparation Time",className:a.prepare_time&&r.prepare_time&&"error"}),a.prepare_time&&r.prepare_time&&(0,h.jsx)("div",{className:"input-feedback",children:a.prepare_time})]}),(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"Delivery Type"})}),(0,h.jsxs)("select",{value:i.delivery_type,name:"delivery_type",onChange:n,onBlur:t,children:[(0,h.jsx)("option",{value:"",children:".."}),(0,h.jsx)("option",{value:"Instant Delivery",children:"Instant Delivery"})]})]}),(0,h.jsxs)("div",{className:"menu-input",children:[(0,h.jsx)("label",{children:(0,h.jsx)("h4",{children:"Meal Category"})}),(0,h.jsx)("select",{name:"category_id",value:i.category_id,onChange:n,onBlur:t,children:g.map((function(e){return(0,h.jsx)("option",{value:e.id,children:e.title},e.id)}))})]})]})]})})]})})}})}},25343:function(e,i,r){r.d(i,{I:function(){return t}});var a=r(21830),n=r.n(a),t=function(e,i){n().fire({text:e,icon:i,iconColor:"#fff",toast:!0,position:"top-right",showConfirmButton:!1,timer:2e3,background:"error"===i?"#ff0000":"#ff8323",color:"#fff"})}},64238:function(){},51043:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=738.cfe757c1.chunk.js.map