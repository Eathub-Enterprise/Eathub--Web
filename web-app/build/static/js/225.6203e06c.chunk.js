"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[225],{59225:function(e,i,t){t.r(i);var n=t(74165),a=t(15861),r=t(70885),s=t(72791),o=t(57689),l=t(6184),d=t(55705),c=t(51043),p=t(48360),u=t(25343),f=t(80184);i.default=function(){var e=(0,o.UO)().id,i=(0,s.useState)(!1),t=(0,r.Z)(i,2),h=t[0],m=t[1],x=(0,s.useState)({image:""}),v=(0,r.Z)(x,2),g=v[0],j=v[1],y=(0,o.s0)(),N=(0,s.useState)([]),b=(0,r.Z)(N,2),A=b[0],M=b[1],Z=(0,s.useState)(""),B=(0,r.Z)(Z,2),I=B[0],C=B[1],R=(0,s.useState)(!1),S=(0,r.Z)(R,2),w=S[0],k=S[1],Q=(0,s.useState)(!1),E=(0,r.Z)(Q,2),U=E[0],_=E[1],G=function(e){k(!0),C(e.target.files[0]),_(!0)};return(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,n.Z)().mark((function e(){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,l.Z.getMealCategory();case 4:i=e.sent,M(i.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,s.useEffect)((function(){function i(){return(i=(0,a.Z)((0,n.Z)().mark((function i(){var t,a;return(0,n.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return m(!0),i.prev=1,i.next=4,l.Z.getMeal(e);case 4:t=i.sent,a=t.data,j({category_id:a.id,food_title:a.food_title,food_description:a.food_description,food_price:a.food_price,food_type:a.food_type,prepare_time:a.prepare_time,delivery_type:a.delivery_type,image:""}),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),console.log(i.t0);case 12:return i.prev=12,m(!1),i.finish(12);case 15:case"end":return i.stop()}}),i,null,[[1,9,12,15]])})))).apply(this,arguments)}!function(){i.apply(this,arguments)}()}),[e]),h&&p.Z,0===A.length||0===g.length?(0,f.jsx)(p.Z,{}):(0,f.jsx)(d.J9,{initialValues:g,onSubmit:function(){var i=(0,a.Z)((0,n.Z)().mark((function i(t,a){var r,s;return(0,n.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(r=a.setSubmitting)(!0),(s=new FormData).append("food_title",t.food_title),s.append("food-type",t.food_type),s.append("food_price",t.food_price),s.append("image",I),s.append("food_description",t.food_description),s.append("prepare_time",t.prepare_time),s.append("delivery_type",t.delivery_type),s.append("category_id",t.category_id),i.prev=11,m(!0),i.next=15,l.Z.updateMeal(e,s).then((function(e){e?((0,u.I)("".concat(t.food_title," has been updated!"),"success"),y("/dashboard/menu"),l.Z.getMealList()):(console.log("There's an issue with it!"),(0,u.I)("Error updating this meal","error"))}),(function(e){console.log("The Values are wrong or Incorrect!: ",e)}));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(11),console.log("Something seems to wrong with the request: ",i.t0);case 20:return i.prev=20,r(!1),i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[11,17,20,23]])})));return function(e,t){return i.apply(this,arguments)}}(),validator:function(){return{}},children:function(e){var i=e.values,t=e.touched,n=e.errors,a=e.handleChange,r=e.handleBlur,s=e.handleSubmit;return(0,f.jsx)("div",{className:"menu-section",children:(0,f.jsxs)("form",{onSubmit:s,children:[(0,f.jsxs)("div",{className:"menu-title",children:[(0,f.jsx)("div",{className:"menu-title-header",children:(0,f.jsx)("h2",{children:"Edit Meal"})}),(0,f.jsx)("button",{type:"submit",className:"menu-btn",children:"Update Meal"})]}),(0,f.jsx)("div",{className:"menu-table",children:(0,f.jsxs)("div",{className:"menu-table-inner",children:[(0,f.jsxs)("div",{className:"menu-table-row",children:[(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"NAME"})}),(0,f.jsx)("input",{id:"food_title",name:"food_title",defaultValue:g.food_title,type:"text",onChange:a,onBlur:r,placeholder:"Name",className:n.food_title&&t.food_title&&"error"}),n.food_title&&t.food_title&&(0,f.jsx)("div",{className:"input-feedback",children:n.food_title})]}),(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"CATEGORIES"})}),(0,f.jsxs)("select",{id:"food_type",name:"food_type",defaultValue:g.food_type,onChange:a,onBlur:r,children:[(0,f.jsx)("option",{value:""}),(0,f.jsx)("option",{value:"main-dish",children:"Main Dish"}),(0,f.jsx)("option",{value:"side-dish",children:"Side Dish"})]})]}),(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"PRICE (NGN)"})}),(0,f.jsx)("input",{id:"food_price",name:"food_price",type:"digit",defaultValue:g.food_price,onChange:a,onBlur:r,placeholder:"Price",className:n.food_price&&t.food_price&&"error"}),n.food_price&&t.food_price&&(0,f.jsx)("div",{className:"input-feedback",children:n.food_price})]}),(0,f.jsxs)("div",{className:"menu-input-img",children:[(0,f.jsx)("h4",{children:"Import Meal Image"}),(0,f.jsx)("div",{className:"labels",children:(0,f.jsxs)("label",{htmlFor:"Image1",className:w?"uploaded":"",children:[(0,f.jsx)("input",{id:"Image1",name:"image",defaultValue:g.image,type:"file",accept:"image/*",style:{display:"none"},onChange:G}),U&&(0,f.jsxs)("div",{className:"img-display",children:[w&&(0,f.jsx)("img",{src:URL.createObjectURL(I),alt:"food-img"}),!w&&(0,f.jsx)("img",{src:i.image,alt:"food-img"})]}),(0,f.jsx)("label",{htmlFor:"Image1",children:(0,f.jsx)("img",{src:c,alt:c,className:"menu-inputImg"})})]})})]})]}),(0,f.jsxs)("div",{className:"menu-table-row second",children:[(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"DESCRIPTION"})}),(0,f.jsx)("textarea",{id:"food_description",name:"food_description",defaultValue:g.food_description,onChange:a,onBlur:r,placeholder:"Meal Description",className:n.food_description&&t.food_description&&"error"}),n.food_description&&t.food_description&&(0,f.jsx)("div",{className:"input-feedback",children:n.food_description})]}),(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"PREPARATION TIME (minutes)"})}),(0,f.jsx)("input",{id:"prepare_time",name:"prepare_time",defaultValue:g.prepare_time,onChange:a,onBlur:r,type:"digit",placeholder:"Preparation Time",className:n.prepare_time&&t.prepare_time&&"error"}),n.prepare_time&&t.prepare_time&&(0,f.jsx)("div",{className:"input-feedback",children:n.prepare_time})]}),(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"Delivery Type"})}),(0,f.jsxs)("select",{defaultValue:g.delivery_type,name:"delivery_type",onChange:a,onBlur:r,children:[(0,f.jsx)("option",{value:"",children:".."}),(0,f.jsx)("option",{value:"Instant Delivery",children:"Instant Delivery"})]})]}),(0,f.jsxs)("div",{className:"menu-input",children:[(0,f.jsx)("label",{children:(0,f.jsx)("h4",{children:"Meal Category"})}),(0,f.jsx)("select",{name:"category_id",defaultValue:g.category_id,onChange:a,onBlur:r,children:A.map((function(e){return(0,f.jsx)("option",{value:e.id,children:e.title})}))})]})]})]})})]})})}})}},25343:function(e,i,t){t.d(i,{I:function(){return r}});var n=t(21830),a=t.n(n),r=function(e,i){a().fire({text:e,icon:i,iconColor:"#fff",toast:!0,position:"top-right",showConfirmButton:!1,timer:2e3,background:"error"===i?"#ff0000":"#ff8323",color:"#fff"})}},51043:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=225.6203e06c.chunk.js.map